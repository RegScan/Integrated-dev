# 开发环境配置文件
# 内容合规检测系统 - 开发环境

# =============================================================================
# 基础配置
# =============================================================================
ENVIRONMENT=development
DEBUG=true
LOG_LEVEL=DEBUG
TIMEZONE=Asia/Shanghai

# =============================================================================
# 服务端口配置
# =============================================================================
CONFIG_MANAGER_PORT=8000
WEBSITE_SCANNER_PORT=8001
ALERT_HANDLER_PORT=8002
TASK_SCHEDULER_PORT=8003
WEB_ADMIN_PORT=3000

# =============================================================================
# 数据库配置
# =============================================================================

# MongoDB 配置
MONGODB_HOST=localhost
MONGODB_PORT=27017
MONGODB_DATABASE=content_compliance_dev
MONGODB_USERNAME=
MONGODB_PASSWORD=
MONGODB_AUTH_SOURCE=admin
MONGODB_URI=mongodb://localhost:27017/content_compliance_dev

# Redis 配置
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_URI=redis://localhost:6379/0

# Elasticsearch 配置
ELASTICSEARCH_HOST=localhost
ELASTICSEARCH_PORT=9200
ELASTICSEARCH_USERNAME=
ELASTICSEARCH_PASSWORD=
ELASTICSEARCH_URI=http://localhost:9200

# =============================================================================
# 消息队列配置
# =============================================================================

# RabbitMQ 配置
RABBITMQ_HOST=localhost
RABBITMQ_PORT=5672
RABBITMQ_USERNAME=guest
RABBITMQ_PASSWORD=guest
RABBITMQ_VHOST=/
RABBITMQ_URI=amqp://guest:guest@localhost:5672/

# Celery 配置
CELERY_BROKER_URL=amqp://guest:guest@localhost:5672/
CELERY_RESULT_BACKEND=redis://localhost:6379/1
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_ACCEPT_CONTENT=["json"]
CELERY_TIMEZONE=Asia/Shanghai
CELERY_ENABLE_UTC=true

# =============================================================================
# 安全配置
# =============================================================================

# JWT 配置
JWT_SECRET_KEY=dev_jwt_secret_key_not_for_production
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=60
JWT_REFRESH_TOKEN_EXPIRE_DAYS=30

# API 密钥
API_SECRET_KEY=dev_api_secret_key_not_for_production
INTER_SERVICE_SECRET=dev_inter_service_secret

# 加密配置
ENCRYPTION_KEY=dev_encryption_key_32_chars_long
PASSWORD_SALT=dev_password_salt

# =============================================================================
# 扫描配置
# =============================================================================

# 扫描引擎配置
SCAN_TIMEOUT=60
MAX_CONCURRENT_SCANS=3
SCAN_RETRY_ATTEMPTS=2
SCAN_RETRY_DELAY=30

# 内容检测配置
CONTENT_DETECTION_THRESHOLD=0.7
IMAGE_DETECTION_THRESHOLD=0.6
TEXT_DETECTION_THRESHOLD=0.8

# 扫描限制
MAX_SCAN_DEPTH=3
MAX_PAGES_PER_SCAN=100
MAX_FILE_SIZE_MB=50

# =============================================================================
# 告警配置
# =============================================================================

# 告警阈值
ALERT_HIGH_THRESHOLD=0.8
ALERT_MEDIUM_THRESHOLD=0.6
ALERT_LOW_THRESHOLD=0.4

# 告警处理
ALERT_AUTO_RESOLVE_HOURS=12
ALERT_ESCALATION_HOURS=2
MAX_ALERTS_PER_DOMAIN=50

# 通知配置
NOTIFICATION_ENABLED=false
EMAIL_NOTIFICATIONS=false
SMS_NOTIFICATIONS=false
WEBHOOK_NOTIFICATIONS=false

# =============================================================================
# 邮件配置
# =============================================================================

# SMTP 配置（开发环境使用假邮件服务）
SMTP_HOST=localhost
SMTP_PORT=1025
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_USE_TLS=false
SMTP_USE_SSL=false

# 邮件设置
MAIL_FROM=dev@localhost
MAIL_FROM_NAME=开发环境-内容合规检测系统
ADMIN_EMAIL=admin@localhost

# =============================================================================
# 监控配置
# =============================================================================

# Prometheus 配置
PROMETHEUS_PORT=9090
METRICS_ENABLED=false
METRICS_PORT=8080

# Grafana 配置
GRAFANA_PORT=3001
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin

# 健康检查
HEALTH_CHECK_INTERVAL=60
HEALTH_CHECK_TIMEOUT=5
HEALTH_CHECK_RETRIES=2

# =============================================================================
# 日志配置
# =============================================================================

# 日志级别
LOG_FORMAT=text
LOG_MAX_SIZE=50MB
LOG_BACKUP_COUNT=5
LOG_ROTATION=daily

# ELK Stack 配置
ELK_ENABLED=false
LOGSTASH_HOST=localhost
LOGSTASH_PORT=5044
KIBANA_PORT=5601

# =============================================================================
# 性能配置
# =============================================================================

# 缓存配置
CACHE_TTL=1800
CACHE_MAX_SIZE=500
CACHE_ENABLED=true

# 连接池配置
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=10
DB_POOL_RECYCLE=1800

# HTTP 配置
HTTP_TIMEOUT=15
HTTP_MAX_CONNECTIONS=50
HTTP_MAX_KEEPALIVE_CONNECTIONS=10

# =============================================================================
# 业务配置
# =============================================================================

# 域名管理
MAX_DOMAINS_PER_USER=10
DOMAIN_VERIFICATION_REQUIRED=false
DOMAIN_WHITELIST_ENABLED=false

# 用户管理
USER_REGISTRATION_ENABLED=true
USER_EMAIL_VERIFICATION=false
PASSWORD_MIN_LENGTH=6
PASSWORD_REQUIRE_SPECIAL_CHARS=false

# 系统限制
MAX_API_REQUESTS_PER_MINUTE=100
MAX_UPLOAD_SIZE_MB=20
SESSION_TIMEOUT_MINUTES=120

# =============================================================================
# 第三方服务配置
# =============================================================================

# AI 服务配置（开发环境禁用）
AI_SERVICE_ENABLED=false
AI_SERVICE_API_KEY=dev_ai_api_key
AI_SERVICE_ENDPOINT=http://localhost:8080/api/v1

# 云存储配置（开发环境禁用）
CLOUD_STORAGE_ENABLED=false
CLOUD_STORAGE_BUCKET=dev-bucket
CLOUD_STORAGE_ACCESS_KEY=dev_access_key
CLOUD_STORAGE_SECRET_KEY=dev_secret_key

# CDN 配置（开发环境禁用）
CDN_ENABLED=false
CDN_DOMAIN=localhost
CDN_API_KEY=dev_cdn_api_key

# =============================================================================
# 开发和调试配置
# =============================================================================

# 调试配置
DEBUG_SQL=true
DEBUG_REQUESTS=true
PROFILING_ENABLED=true

# 测试配置
TEST_MODE=false
TEST_DATABASE=content_compliance_test
TEST_SKIP_AUTH=true

# 开发工具
HOT_RELOAD=true
AUTO_RESTART=true
DEV_CORS_ENABLED=true
DEV_CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# =============================================================================
# 备份和恢复配置
# =============================================================================

# 数据备份（开发环境禁用）
BACKUP_ENABLED=false
BACKUP_SCHEDULE=0 3 * * *  # 每天凌晨3点
BACKUP_RETENTION_DAYS=7
BACKUP_LOCATION=./backups

# 数据恢复
RESTORE_ENABLED=true
RESTORE_VERIFICATION=false

# =============================================================================
# 扩展配置
# =============================================================================

# 微服务配置
SERVICE_DISCOVERY_ENABLED=false
LOAD_BALANCER_ENABLED=false
AUTO_SCALING_ENABLED=false

# 国际化配置
DEFAULT_LANGUAGE=zh-CN
SUPPORTED_LANGUAGES=zh-CN,en-US
TIMEZONE_DETECTION=false

# 功能开关
FEATURE_ADVANCED_SCANNING=true
FEATURE_REAL_TIME_ALERTS=true
FEATURE_BATCH_PROCESSING=false
FEATURE_API_RATE_LIMITING=false
FEATURE_AUDIT_LOGGING=false

# =============================================================================
# 开发环境特殊配置
# =============================================================================

# 模拟数据
USE_MOCK_DATA=true
MOCK_SCAN_RESULTS=true
MOCK_ALERTS=true
MOCK_NOTIFICATIONS=true

# 开发服务器
DEV_SERVER_HOST=0.0.0.0
DEV_SERVER_RELOAD=true
DEV_SERVER_ACCESS_LOG=true

# 前端开发
FRONTEND_DEV_SERVER=http://localhost:3000
API_PROXY_ENABLED=true
WEBSOCKET_ENABLED=true

# 数据库开发配置
DB_ECHO=true
DB_SHOW_SQL=true
DB_AUTO_MIGRATE=true
DB_SEED_DATA=true

# 缓存开发配置
CACHE_DEBUG=true
CACHE_CLEAR_ON_START=true

# 安全开发配置
SKIP_AUTH_FOR_TESTING=true
ALLOW_INSECURE_CONNECTIONS=true
DISABLE_CSRF_PROTECTION=true